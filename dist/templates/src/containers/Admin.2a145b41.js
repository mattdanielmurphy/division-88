(window.webpackJsonp=window.webpackJsonp||[]).push([[4,5,6,8,10,12],{192:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var a=n(1),r=n.n(a),o=n(16),s=n.n(o),i=n(10),l=n.n(i),c=n(11),u=n.n(c),p=n(12),d=n.n(p),h=n(4),m=n.n(h),f=n(13),g=n.n(f),v=n(3),y=n.n(v),w=n(0),b=n.n(w),x=n(207),E=(n(208),n(218)),C=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(r))),y()(m()(n),"render",function(){return b.a.createElement("div",{className:"top-heading"},b.a.createElement(x.Textfit,{mode:"single",max:50},n.props.children))}),n}return g()(t,e),t}(b.a.Component),k=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(r))),y()(m()(n),"render",function(){return b.a.createElement("div",{className:"top-heading background-image",style:{backgroundImage:"url(".concat(n.props.image,")")}},b.a.createElement(x.Textfit,{mode:"single",max:50},n.props.children))}),n}return g()(t,e),t}(b.a.Component),S=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(r))),y()(m()(n),"render",function(){return!n.props.noTopHeading&&(n.props.backgroundImage?b.a.createElement(k,{image:n.props.backgroundImage},n.props.state.heading.text,b.a.createElement("span",null,n.props.state.heading.spanText)):b.a.createElement(C,null,n.props.state.heading.text,b.a.createElement("span",null,n.props.state.heading.spanText)))}),n}return g()(t,e),t}(b.a.Component),N=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(r))),y()(m()(n),"getPathname",function(){return window.location.pathname.replace(/\/(admin)*/g,"")}),y()(m()(n),"getPageName",function(){return n.getPathname().split("-").join(" ")}),y()(m()(n),"state",{id:n.props.id,heading:"",pageName:""}),y()(m()(n),"render",function(){return b.a.createElement(E.SizeMe,null,function(e){var t=e.size;return n.state.id?b.a.createElement("div",{id:n.state.id,className:n.getMainContainerClassName(t)},b.a.createElement(S,{state:n.state}),b.a.createElement("main",null,n.props.children)):b.a.createElement("div",null)})}),n}return g()(t,e),s()(t,[{key:"getHeading",value:function(){return this.props.heading?"object"===r()(this.props.heading)?this.props.heading:{text:this.props.heading}:{text:this.getPageName()}}},{key:"getMainContainerClassName",value:function(e){var t=e.width;return"main-container ".concat(t<768?"mobile":t<1366?"tablet":"desktop")}},{key:"getParentElementsBeforeBody",value:function(e){var t=[];return function e(n){"BODY"!==(n=n.parentElement).tagName&&(t.push(n),e(n))}(e),t}},{key:"setParentElementsTo100PercentHeight",value:function(){this.getParentElementsBeforeBody(document.querySelector("#content")).forEach(function(e){return e.style.height="100%"})}},{key:"componentDidMount",value:function(){this.setParentElementsTo100PercentHeight(),this.setState({id:this.getPathname(),pageName:this.getPageName(),heading:this.getHeading()})}}]),t}(b.a.Component)},194:function(e,t){e.exports={apiUrl:"https://division-88-6430e.web.app/api"}},305:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var a=n(40),r=n.n(a),o=n(41),s=n.n(o),i=n(10),l=n.n(i),c=n(16),u=n.n(c),p=n(11),d=n.n(p),h=n(12),m=n.n(h),f=n(4),g=n.n(f),v=n(13),y=n.n(v),w=n(3),b=n.n(w),x=n(0),E=n.n(x),C=n(355),k=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(o))),b()(g()(n),"state",{layoutClassName:"layout ".concat(void 0!==n.gridItemHoveredUpon?"grid-item-hovered-upon":""),cellsUpToDate:!0}),b()(g()(n),"componentDidMount",s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.watchWindowResizing(),console.log("cells",n.props.cells),n.setState({rowHeight:n.rowHeight,cells:n.props.cells}),console.log(n.props.gridWidth);case 4:case"end":return e.stop()}},e)}))),n}return y()(t,e),u()(t,[{key:"watchWindowResizing",value:function(){var e=this;window.onresize=function(){e.setState({rowHeight:e.rowHeight}),e.buffering||setTimeout(function(){e.buffering=!1},10)}}},{key:"updateGridItemHover",value:function(e){this.setState({gridItemHoveredUpon:e,layoutClassName:"layout ".concat(void 0!==e?"grid-item-hovered-upon":"")})}},{key:"handleMouseOverGridItem",value:function(e){this.updateGridItemHover(e)}},{key:"handleMouseLeaveGridItem",value:function(e){this.state.gridItemHoveredUpon===e&&this.updateGridItemHover()}},{key:"handleClickGridItem",value:function(e,t){this.props.selectCell(e)}},{key:"componentDidUpdate",value:function(e,t){e.gridWidth!==this.props.gridWidth&&this.setState({rowHeight:this.rowHeight}),this.props.updateSent?(console.log("updateSent"),this.setState({cellsUpToDate:!1,cells:this.props.cells}),this.props.updateReceived()):JSON.stringify(this.props.cells)!==JSON.stringify(e.cells)?(console.log("update"),this.setState({cellsUpToDate:!1,cells:this.props.cells})):this.state.cellsUpToDate||this.setState({cellsUpToDate:!0})}},{key:"render",value:function(){var e=this,t=this.props.ResponsiveGridLayout;return this.props.updateSent&&console.log("update sent"),E.a.createElement("div",{id:"index"},this.state.cellsUpToDate?this.props.layouts&&this.state.cells&&E.a.createElement(t,{measureBeforeMount:!0,className:this.state.layoutClassName,layouts:this.props.layouts,rowHeight:this.state.rowHeight,width:this.props.gridWidth,nb:!0,isDraggable:!!this.props.gridWidth,isResizable:!!this.props.gridWidth,breakpoints:{desktop:1326,tablet:750,mobile:0},cols:{desktop:12,tablet:12,mobile:12},rows:{desktop:12,tablet:12,mobile:12},containerPadding:[0,0],onLayoutChange:function(t,n){return e.props.onLayoutChange?e.props.onLayoutChange(t,n):{}}},this.state.cells.map(function(t,n){return E.a.createElement("div",{className:"grid-item",onClick:function(t){return e.handleClickGridItem(n,t)},key:n},E.a.createElement(C.a,{selected:e.props.selectedCell===n,index:n,link:t.link,imgSrc:t.imgSrc,backgroundText:t.backgroundText,bottomText:t.bottomText,videoSrc:t.videoSrc,video:t.video,isPreview:e.props.gridWidth}))})):E.a.createElement("div",null,"Loading..."))}},{key:"rowHeight",get:function(){var e=this.props.gridWidth?this.props.gridWidth/100:window.innerWidth/100;return"mobile"===this.props.view?10*e:"tablet"===this.props.view?8*e:4*e}}]),t}(E.a.Component)},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(192);t.default=function(){return r.a.createElement(o.a,{name:"About"},r.a.createElement("section",{className:"text"},r.a.createElement("p",null,"So utterly lost was he to all sense of reverence for the many marvels of their majestic bulk and mystic ways; and so dead to anything like an apprehension of any possible danger from encountering them; that in his poor opinion, the wondrous whale was but a species of magnified mouse, or at least water-rat, requiring only a little circumvention and some small application of time and trouble in order to kill and boil."),r.a.createElement("p",null,"I told him that I never liked to sleep two in a bed; that if I should ever do so, it would depend upon who the harpooneer might be, and that if he (the landlord) really had no other place for me, and the harpooneer was not decidedly objectionable, why rather than wander further about a strange town on so bitter a night, I would put up with the half of any decent manâ€™s blanket.")))}},75:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return T});var a=n(40),r=n.n(a),o=n(41),s=n.n(o),i=n(10),l=n.n(i),c=n(11),u=n.n(c),p=n(12),d=n.n(p),h=n(4),m=n.n(h),f=n(13),g=n.n(f),v=n(3),y=n.n(v),w=n(0),b=n.n(w),x=n(17),E=(n(219),n(192)),C=(n(27),n(42)),k=n.n(C),S=n(194),N=n.n(S),T=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(o))),y()(m()(n),"state",{}),y()(m()(n),"getProducerTools",s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(N.a.apiUrl,"/producer-tools")).then(function(e){return e.data});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))),y()(m()(n),"componentWillMount",s()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getProducerTools();case 2:t=e.sent,console.log(t),n.setState({tools:t});case 5:case"end":return e.stop()}},e)}))),y()(m()(n),"render",function(){return n.state.tools?b.a.createElement(E.a,null,b.a.createElement("div",{className:"grid"},n.state.tools.map(function(e,t){return b.a.createElement(x.a,{key:t,to:"producer-tools/".concat(e.page)},b.a.createElement("img",{src:e.imgSrc,alt:""}),b.a.createElement("h2",null,e.name),b.a.createElement("div",{className:"description"},e.description))}),b.a.createElement(x.a,{to:"/"}),b.a.createElement(x.a,{to:"/"}))):b.a.createElement("div",null)}),n}return g()(t,e),t}(b.a.Component)},76:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return H});var a=n(40),r=n.n(a),o=n(41),s=n.n(o),i=n(18),l=n.n(i),c=n(10),u=n.n(c),p=n(16),d=n.n(p),h=n(11),m=n.n(h),f=n(12),g=n.n(f),v=n(4),y=n.n(v),w=n(13),b=n.n(w),x=n(3),E=n.n(x),C=n(0),k=n.n(C),S=(n(27),n(17),n(219),n(192)),N=n(42),T=n.n(N),A=n(194),U=n.n(A),P=function(e){function t(){var e,n;u()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(r))),E()(y()(n),"state",{loading:!0}),E()(y()(n),"render",function(){return k.a.createElement("div",null,n.getIFrame())}),n}return b()(t,e),d()(t,[{key:"getEmbedUrl",value:function(){var e=/(.*)\/(.*)\/(.*)\?/.exec(this.props.spotifyUrl);e||(e=/(.*)\/(.*)\/(.*)/.exec(this.props.spotifyUrl));var t=e,n=l()(t,4),a=n[1];return a=[a,"embed",n[2],n[3]].join("/")}},{key:"getIFrame",value:function(){var e=this,t=this.getEmbedUrl();return k.a.createElement("div",null,this.state.loading&&k.a.createElement("div",null,"Loading..."),k.a.createElement("iframe",{onLoad:function(){return e.setState({loading:!1})},className:"spotify-iframe",src:t,width:"300",height:"380",frameBorder:"0",allowtransparency:"true",allow:"encrypted-media"}))}}]),t}(k.a.Component),D=function(e){var t=e.artist;return k.a.createElement("div",{id:"releases"},k.a.createElement("div",{className:"right"},t.releases.map(function(e,t){return k.a.createElement("div",{key:t,className:"release"},k.a.createElement("h2",null,e.name),k.a.createElement("div",{className:"left"},k.a.createElement("img",{src:e.cover,alt:"".concat(e.name," album cover artwork")})),k.a.createElement("div",{className:"right"},k.a.createElement(P,{spotifyUrl:e.spotifyUrl})))})))},I=function(e){var t=e.artist;return k.a.createElement("div",{id:"top-ten"},k.a.createElement("h2",null,"Top ten tracks"),k.a.createElement(P,{spotifyUrl:t.spotifyUrl}))},H=function(e){function t(){var e,n;u()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=m()(this,(e=g()(t)).call.apply(e,[this].concat(o))),E()(y()(n),"state",{}),E()(y()(n),"componentDidMount",s()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getArtist();case 2:t=e.sent,console.log(t),n.setState({artist:t});case 5:case"end":return e.stop()}},e)}))),E()(y()(n),"render",function(){return n.state.artist?k.a.createElement(S.a,{id:"artist",heading:{text:"".concat(n.state.artist.name)},backgroundImage:n.state.artist.imgSrc},k.a.createElement(I,{artist:n.state.artist}),n.state.artist.releases.length>0&&k.a.createElement(D,{artist:n.state.artist})):k.a.createElement("div",null,"loading...")}),n}return b()(t,e),d()(t,[{key:"getArtistNameFromUrl",value:function(){var e=String(window.location);return/.*\/(.*)$/.exec(e)[1]}},{key:"getArtist",value:function(){var e=this.getArtistNameFromUrl();return T.a.get("".concat(U.a.apiUrl,"/artists/").concat(e)).then(function(e){return e.data})}}]),t}(k.a.Component)},77:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return U});var a=n(40),r=n.n(a),o=n(41),s=n.n(o),i=n(10),l=n.n(i),c=n(16),u=n.n(c),p=n(11),d=n.n(p),h=n(12),m=n.n(h),f=n(4),g=n.n(f),v=n(13),y=n.n(v),w=n(3),b=n.n(w),x=n(0),E=n.n(x),C=(n(27),n(192)),k=n(42),S=n.n(k),N=n(194),T=n.n(N),A=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(r))),b()(g()(n),"state",{dropboxDirectUrl:""}),b()(g()(n),"render",function(){return E.a.createElement("section",{className:"text"},E.a.createElement("p",null,n.props.description),E.a.createElement("a",{href:n.state.dropboxDirectUrl,className:"button"},"Download"))}),n}return y()(t,e),u()(t,[{key:"setDropboxDirectUrl",value:function(e){this.setState({dropboxDirectUrl:e.replace("www.dropbox.com","dl.dropboxusercontent.com").replace("dl=0","dl=1")})}},{key:"componentDidMount",value:function(){this.setDropboxDirectUrl(this.props.dropboxUrl)}}]),t}(E.a.Component),U=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(o))),b()(g()(n),"state",{}),b()(g()(n),"componentDidMount",s()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getProducerTool();case 2:t=e.sent,console.log(t),n.setState({tool:t});case 5:case"end":return e.stop()}},e)}))),b()(g()(n),"render",function(){return n.state.tool?E.a.createElement(C.a,{id:"producer-tool",heading:{text:"".concat(n.state.tool.name,": "),spanText:"producer tool"},backgroundImage:n.state.tool.imgSrc},E.a.createElement(A,n.state.tool)):E.a.createElement("div",null)}),n}return y()(t,e),u()(t,[{key:"getProducerToolNameFromUrl",value:function(){var e=String(window.location);return/.*\/(.*)$/.exec(e)[1]}},{key:"getProducerTool",value:function(){var e=this.getProducerToolNameFromUrl();return S.a.get("".concat(T.a.apiUrl,"/producer-tools/").concat(e)).then(function(e){return e.data})}}]),t}(E.a.Component)},78:function(e,t,n){"use strict";n.r(t);var a=n(31),r=n.n(a),o=n(40),s=n.n(o),i=n(41),l=n.n(i),c=n(4),u=n.n(c),p=n(3),d=n.n(p),h=n(10),m=n.n(h),f=n(16),g=n.n(f),v=n(11),y=n.n(v),w=n(12),b=n.n(w),x=n(13),E=n.n(x),C=n(0),k=n.n(C),S=n(17),N=(k.a.Component,n(219)),T=function(){return/^(\/*\w*)\//.exec(window.location.pathname)[1]},A=n(207),U=function(e){function t(){var e,n;m()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=y()(this,(e=b()(t)).call.apply(e,[this].concat(r))),d()(u()(n),"render",function(){return n.props.isPreview?k.a.createElement("div",{onClick:function(){return n.props.select()},className:"artist-wrapper ".concat(n.props.selected?"selected":""),onMouseOver:function(){return n.props.setHovering(!0)},onMouseLeave:function(){return n.props.setHovering(!1)}},n.props.children):k.a.createElement(S.a,{to:"".concat(T(),"/artists/").concat(n.props.page),className:"artist-wrapper ".concat(n.props.selected?"selected":""),onMouseOver:function(){return n.props.setHovering(!0)},onMouseLeave:function(){return n.props.setHovering(!1)}},n.props.children)}),n}return E()(t,e),t}(k.a.Component),P=function(e){function t(){var e,n;m()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=y()(this,(e=b()(t)).call.apply(e,[this].concat(r))),d()(u()(n),"state",{hovering:!1,alignment:n.props.index%2==0?"right":"left"}),d()(u()(n),"getDescriptionStyle",function(){return Object.assign({boxSizing:"border-box"},n.props.description.style)}),d()(u()(n),"getSeeReleasesStyle",function(){return n.state.hovering?{color:n.props.description.style.color||"black",opacity:1}:{color:n.props.description.style.color||"black"}}),d()(u()(n),"setHovering",function(e){return n.setState({hovering:e})}),d()(u()(n),"render",function(){return k.a.createElement(U,{select:function(){return n.props.selectArtist(n.props.index)},selected:n.props.selected,isPreview:n.props.isPreview,page:n.props.page,setHovering:function(e){return n.setHovering(e)}},k.a.createElement("div",{className:"artist"},k.a.createElement(N.a,{src:n.props.imgSrc}),k.a.createElement("div",{className:"description-outer-wrapper align-".concat(n.state.alignment)},k.a.createElement("div",{className:"description",style:n.getDescriptionStyle()},k.a.createElement("div",{className:"text"},k.a.createElement(A.Textfit,{mode:"single",className:"artist-name",min:16,max:40},n.props.name),k.a.createElement(A.Textfit,{className:"bio",min:12,max:20},n.props.description.bio),k.a.createElement(A.Textfit,{mode:"single",max:16,className:"see-releases",style:n.getSeeReleasesStyle()},k.a.createElement("span",null,">")," See releases"))))))}),n}return E()(t,e),t}(k.a.Component),D=(n(27),n(192)),I=n(42),H=n.n(I),L=n(194),R=n.n(L);n.d(t,"default",function(){return W});k.a.Component;var W=function(e){function t(){var e,n;m()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=y()(this,(e=b()(t)).call.apply(e,[this].concat(o))),d()(u()(n),"state",{}),d()(u()(n),"componentWillMount",l()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.props.artists){e.next=4;break}n.setState({artists:n.props.artists,isPreview:!0}),e.next=8;break;case 4:return e.next=6,H.a.get("".concat(R.a.apiUrl,"/artists")).then(function(e){return e.data});case 6:t=e.sent,n.setState({artists:t});case 8:case"end":return e.stop()}},e)}))),d()(u()(n),"render",function(){return n.state.artists?k.a.createElement(D.a,{backgroundImage:"/images/trees.jpg"},n.state.artists.map(function(e,t){return k.a.createElement(P,r()({key:t,index:t,isPreview:n.state.isPreview},e,{selectArtist:function(){return n.props.selectArtist(t)},selected:n.props.selectedArtist===t}))})):k.a.createElement("div",null,"Loading...")}),n}return E()(t,e),g()(t,[{key:"componentDidUpdate",value:function(e){this.props.artists&&JSON.stringify(e.artists)!==JSON.stringify(this.props.artists)&&this.setState({artists:this.props.artists})}}]),t}(k.a.Component)},85:function(e,t,n){"use strict";n.r(t);var a=n(40),r=n.n(a),o=n(41),s=n.n(o),i=n(10),l=n.n(i),c=n(16),u=n.n(c),p=n(11),d=n.n(p),h=n(12),m=n.n(h),f=n(4),g=n.n(f),v=n(13),y=n.n(v),w=n(3),b=n.n(w),x=n(0),E=n.n(x),C=n(27),k=n(42),S=n.n(k),N=n(367),T=n.n(N),A=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(r))),b()(g()(n),"render",function(){return E.a.createElement("div",{id:"change-view"},E.a.createElement("h3",null,"Change view"),E.a.createElement("div",null,E.a.createElement("button",{onClick:function(){return n.props.setView("mobile")}},"Mobile [m]"),E.a.createElement("button",{onClick:function(){return n.props.setView("tablet")}},"Tablet [t]"),E.a.createElement("button",{onClick:function(){return n.props.setView("desktop")}},"Desktop [d]"),E.a.createElement("label",null,"Scale: "),E.a.createElement("select",{onChange:function(e){return n.handleScaleSelect(e)}},E.a.createElement("option",{value:"1"},"100%"),E.a.createElement("option",{value:"0.9"},"90%"),E.a.createElement("option",{value:"0.8"},"80%"),E.a.createElement("option",{value:"0.7"},"70%"),E.a.createElement("option",{value:"0.6"},"60%"),E.a.createElement("option",{value:"0.5"},"50%"))))}),n}return y()(t,e),u()(t,[{key:"handleScaleSelect",value:function(e){var t=e.target.selectedIndex,n=e.target.options[t].value;this.props.setScale(n)}}]),t}(E.a.Component),U=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(r))),b()(g()(n),"render",function(){return E.a.createElement("button",{className:n.props.enabled?"enabled":"",onClick:function(e){return n.handleClick(e)}},n.props.children)}),n}return y()(t,e),u()(t,[{key:"handleClick",value:function(e){this.props.toggle(),e.target.classList.toggle("enabled")}}]),t}(E.a.Component),P=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(r))),b()(g()(n),"render",function(){return E.a.createElement("div",{id:"admin-panel"},E.a.createElement(A,{setView:n.props.setView,setScale:n.props.setScale}),"index"===n.props.pageName&&E.a.createElement("div",{className:"undo-redo"},E.a.createElement("button",{onClick:function(){return n.props.undoLayoutChange()}},"Undo [u]"),E.a.createElement("button",{onClick:function(){return n.props.redoLayoutChange()}},"Redo [r]")))}),n}return y()(t,e),u()(t,[{key:"handleScaleSelect",value:function(e){var t=e.target.selectedIndex,n=e.target.options[t].value;this.props.setScale(n)}}]),t}(E.a.Component),D=n(208),I=n(305),H=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(r))),b()(g()(n),"render",function(){return n.props.cells?E.a.createElement(I.a,{selectCell:function(e){return n.props.selectCell(e)},selectedCell:n.props.selectedCell,view:n.props.view,layouts:n.props.layouts,cells:n.props.cells,ResponsiveGridLayout:D.Responsive,gridWidth:n.props.gridWidth,onLayoutChange:function(e,t){return n.props.onLayoutChange(e,t)}}):E.a.createElement("div",null,"Loading...")}),n}return y()(t,e),t}(E.a.Component),L=n(65),R=n(64),W=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(r))),b()(g()(n),"state",{dimensions:{mobile:{width:375,height:667},tablet:{width:768,height:1024},desktop:{width:1366,height:768}}}),b()(g()(n),"getWidth",function(){return n.state.dimensions[n.props.view].width}),b()(g()(n),"getHeight",function(){return n.state.dimensions[n.props.view].height}),b()(g()(n),"render",function(){var e=n.props.page;return E.a.createElement("div",{id:"preview-wrapper",style:{width:n.getWidth()*n.props.scale,height:n.getHeight()*n.props.scale}},E.a.createElement("div",{id:"preview",className:n.props.view,style:{width:n.getWidth(),height:n.getHeight(),transform:"scale(".concat(n.props.scale,")"),transformOrigin:"left top"}},E.a.createElement(L.a,{mobilePreview:"mobile"===n.props.view,previewWidth:n.getWidth()}),E.a.createElement(e,{layouts:n.props.layouts,view:n.props.view,onLayoutChange:function(e,t){return n.props.onLayoutChange(e,t)},selectCell:function(e){return n.props.selectCell(e)},selectArtist:function(e){return n.props.selectArtist(e)},selectedArtist:n.props.selectedArtist,selectedCell:n.props.selectedCell,artists:n.props.artists,cells:n.props.cells,gridWidth:n.getWidth(),updateSent:n.props.updateSent,updateReceived:function(){return n.props.updateReceived()}}),E.a.createElement(R.a,null)))}),n}return y()(t,e),t}(E.a.Component),F=n(594),K=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(r))),b()(g()(n),"handleChangeComplete",function(e){return n.props.setColor(e)}),b()(g()(n),"render",function(){return E.a.createElement(F.SketchPicker,{color:n.props.color,onChangeComplete:n.handleChangeComplete})}),n}return y()(t,e),t}(E.a.Component),G=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(r))),b()(g()(n),"render",function(){return E.a.createElement("div",{className:"non-video-options"},E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"link"),E.a.createElement("input",{onKeyPress:function(e){return n.props.handleKeyPress(e)},onChange:function(e){return n.props.handleInputChange({e:e})},type:"text",id:"link",value:n.props.state.cell.link||""})),E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"backgroundText: heading"),E.a.createElement("input",{onKeyPress:function(e){return n.props.handleKeyPress(e)},onChange:function(e){return n.props.handleInputChange({e:e})},type:"text",id:"backgroundText.heading",value:n.props.state.cell.backgroundText&&n.props.state.cell.backgroundText.heading||""})),E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"backgroundText: subheading"),E.a.createElement("input",{onKeyPress:function(e){return n.props.handleKeyPress(e)},onChange:function(e){return n.props.handleInputChange({e:e})},type:"text",id:"backgroundText.subheading",value:n.props.state.cell.backgroundText&&n.props.state.cell.backgroundText.subheading||""})),E.a.createElement("br",null),E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"bottomText: background color"),E.a.createElement(K,{color:n.props.state.cell.bottomText&&n.props.state.cell.bottomText.backgroundColor||"#fff",setColor:function(e){var t=e.rgb,a=t.r,r=t.g,o=t.b,s=t.a,i="rgba(".concat(a,",").concat(r,",").concat(o,",").concat(s,")");n.props.handleInputChange({path:"bottomText.backgroundColor",value:i,colorChange:!0})}})),E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"bottomText: height (example: 10px)"),E.a.createElement("input",{onKeyPress:function(e){return n.props.handleKeyPress(e)},onChange:function(e){return n.props.handleInputChange({e:e})},type:"text",id:"bottomText.height",value:n.props.state.cell.bottomText&&n.props.state.cell.bottomText.height||""})),E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"bottomText: text"),E.a.createElement("input",{onKeyPress:function(e){return n.props.handleKeyPress(e)},onChange:function(e){return n.props.handleInputChange({e:e})},type:"text",id:"bottomText.text",value:n.props.state.cell.bottomText&&n.props.state.cell.bottomText.text||""})))}),n}return y()(t,e),t}(E.a.Component),M=n(194),V=n.n(M),O=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(o))),b()(g()(n),"state",{}),b()(g()(n),"getCell",function(){var e=s()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(V.a.apiUrl,"/grids/index/cells/").concat(t)).then(function(e){return e.data});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),b()(g()(n),"updateCell",function(){var e=s()(r.a.mark(function e(t,a){var o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("".concat(V.a.apiUrl,"/grids/index/cells/").concat(t),a).then(function(e){return n.setState({cellFromDatabase:a}),e.data});case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),b()(g()(n),"handleSubmit",function(){var e=s()(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),e.next=3,S.a.post("".concat(V.a.apiUrl,"/grids/index/cells/").concat(n.state.index),n.state.cell).then(function(e){var t=n.state.cells.slice();return n.setState({cellFromDatabase:n.state.cell,cells:t,unsavedChanges:!1}),t[n.state.index]=n.state.cell,n.state.colorChange?(n.props.refreshGrid({cells:t}),n.setState({colorChange:!1})):n.props.updateGrid({cells:t}),e.data});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),b()(g()(n),"handleKeyPress",function(e){"Enter"===e.key&&n.handleSubmit(e)}),b()(g()(n),"handleInputChange",function(e){var t=e.e,a=e.path,r=e.value,o=e.colorChange;if(t){var s=t.target.id,i=t.target.value;n.updateCellValue(s,i)}else console.log(r),n.updateCellValue(a,r),o&&n.setState({colorChange:!0})}),b()(g()(n),"getCellsFromDatabase",s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(V.a.apiUrl,"/grids/index/cells")).then(function(e){return e.data});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))),b()(g()(n),"componentDidMount",s()(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getCell(n.props.index);case 2:return t=e.sent,e.next=5,n.getCellsFromDatabase();case 5:a=e.sent,n.setState({index:n.props.index,cell:t,cells:a,cellFromDatabase:t}),window.onbeforeunload=null;case 8:case"end":return e.stop()}},e)}))),b()(g()(n),"changeIndex",function(){var e=s()(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getCell(t);case 2:a=e.sent,n.setState({index:t,cell:a,cellFromDatabase:a,unsavedChanges:!1});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),b()(g()(n),"newCell",s()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.validateCell()){e.next=6;break}return e.next=3,S.a.get("".concat(V.a.apiUrl,"/grids/index/layouts")).then(function(e){return e.data});case 3:e.sent,t={newLayouts:{desktop:{w:12,h:4,x:0,minW:4,minH:2},tablet:{w:12,h:4,x:0,minW:4,minH:2},mobile:{w:12,h:4,x:0,minW:4,minH:2}},newCell:n.state.cell},S.a.post("".concat(V.a.apiUrl,"/grids/index/layouts/newCell"),t).then(function(e){var t=e.data,a=t.layouts,r=t.cells;n.props.updateGrid({layouts:a,cells:r}),n.changeIndex(e.data.index)});case 6:case"end":return e.stop()}},e)}))),b()(g()(n),"toggleVideoMode",function(){n.updateCellValue("video",!n.state.cell.video)}),b()(g()(n),"componentDidUpdate",function(){var e=s()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.index!==t.index&&(n.state.unsavedChanges?confirm("You've made unsaved changes for this cell. Proceed and discard?")&&n.changeIndex():n.changeIndex(n.props.index));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),b()(g()(n),"render",function(){return n.state.cell?E.a.createElement("div",{id:"property-editor"},E.a.createElement("div",{className:"video-toggle"},E.a.createElement(U,{enabled:n.state.cell.video,toggle:n.toggleVideoMode},"Toggle Video")),E.a.createElement("br",null),E.a.createElement("form",{onSubmit:function(e){return n.handleSubmit(e)}},E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"Image url"),E.a.createElement("input",{onKeyPress:function(e){return n.handleKeyPress(e)},onChange:function(e){return n.handleInputChange({e:e})},type:"text",id:"imgSrc",value:n.state.cell.imgSrc||""})),E.a.createElement("br",null),n.state.cell.video?E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"Video link:"),E.a.createElement("input",{onKeyPress:function(e){return n.handleKeyPress(e)},onChange:function(e){return n.handleInputChange({e:e})},type:"text",id:"videoSrc",value:n.state.cell.videoSrc||""})):E.a.createElement(G,{handleKeyPress:function(e){return n.handleKeyPress(e)},handleInputChange:function(e){return n.handleInputChange(e)},state:n.state,refreshGrid:function(){return n.props.refreshGrid()}}),E.a.createElement("br",null),n.state.error,E.a.createElement("button",null,"Submit changes")),E.a.createElement("div",{id:"create-new"},E.a.createElement("button",{onClick:function(){return n.newCell()}},"Submit as new cell")),E.a.createElement("button",{onClick:function(){return confirm("Are you sure you want to delete this cell? (There's no going back!)")&&n.deleteCell()}},"Delete cell")):E.a.createElement("div",null,"loading...")}),n}return y()(t,e),u()(t,[{key:"updateCellValue",value:function(e,t){var n=Object.assign({},this.state.cell);!function(e,t){for(var a=n,r=e.split("."),o=r.length,s=0;s<o-1;s++){var i=r[s];a[i]||(a[i]={}),a=a[i]}a[r[o-1]]=t}(e,t),this.setState({cell:n,unsavedChanges:!0})}},{key:"validateCell",value:function(){var e=this.state.cell,t=e.video?e.videoSrc:e.imgSrc;return t?this.setState({error:void 0}):this.setState({error:"Error: You must provide at least a background image"}),t}},{key:"deleteCell",value:function(){var e=this;S.a.get("".concat(V.a.apiUrl,"/grids/index/cells/").concat(this.state.index,"/delete")).then(function(t){var n=t.data,a=n.layouts,r=n.cells;e.props.updateGrid({layouts:a,cells:r})})}}]),t}(E.a.Component),B=n(757),j=n.n(B),J=function(e){function t(e){var n;return l()(this,t),(n=d()(this,m()(t).call(this,e))).state={columns:[{title:"Name",field:"name"},{title:"Spotify URL",field:"spotifyUrl"},{title:"Album cover image URL",field:"cover"}]},n}return y()(t,e),u()(t,[{key:"render",value:function(){var e=this;return console.log(this.props.data),E.a.createElement(j.a,{title:"Releases",columns:this.state.columns,data:this.props.data,editable:{onRowAdd:function(t){return new Promise(function(n,a){setTimeout(function(){var a=e.props.data;a.push(t),e.props.updateData(a),n(),n()},1e3)})},onRowUpdate:function(t,n){return new Promise(function(a,r){setTimeout(function(){var r=e.props.data,o=r.indexOf(n);r[o]=t,e.props.updateData(r),a(),a()},1e3)})},onRowDelete:function(t){return new Promise(function(n,a){setTimeout(function(){var a=e.props.data,r=a.indexOf(t);a.splice(r,1),e.props.updateData(a),n(),n()},1e3)})}}})}}]),t}(E.a.Component),z=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(o))),b()(g()(n),"state",{}),b()(g()(n),"getArtist",function(){var e=s()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(V.a.apiUrl,"/artists/index/").concat(t)).then(function(e){return e.data});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),b()(g()(n),"handleSubmit",function(){var e=s()(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),console.log("submit",n.state.artist,n.state.index),e.next=4,S.a.post("".concat(V.a.apiUrl,"/artists/").concat(n.state.index),n.state.artist).then(function(e){return n.setState({artistFromDatabase:n.state.artist,unsavedChanges:!1}),n.state.colorChange?(n.props.refreshArtists(n.state.index,n.state.artist),n.setState({colorChange:!1})):n.props.updateArtists(n.state.index,n.state.artist),e.data});case 4:return a=e.sent,console.log(a),e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),b()(g()(n),"handleInputChange",function(e){var t=e.e,a=e.path,r=e.value,o=e.colorChange;if(t){var s=t.target.id,i=t.target.value;n.updateArtistValue(s,i)}else o&&n.setState({colorChange:!0}),n.updateArtistValue(a,r)}),b()(g()(n),"changeIndex",function(){var e=s()(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getArtist(t);case 2:a=e.sent,n.setState({index:t,artist:a,artistFromDatabase:a,unsavedChanges:!1});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),b()(g()(n),"newArtist",s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.validateArtist()&&S.a.post("".concat(V.a.apiUrl,"/artists/new"),n.state.artist).then(function(e){var t=e.data,a=t.layouts,r=t.artists;n.props.updateGrid({layouts:a,artists:r}),n.changeIndex(e.data.index)});case 1:case"end":return e.stop()}},e)}))),b()(g()(n),"componentDidUpdate",function(){var e=s()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.index!==t.index&&(n.state.unsavedChanges?confirm("You've made unsaved changes for this artist. Proceed and discard?")&&n.changeIndex():n.changeIndex(n.props.index));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),b()(g()(n),"componentWillMount",s()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getArtist(n.props.index);case 2:t=e.sent,n.setState({artist:t,index:n.props.index}),window.onbeforeunload=null;case 5:case"end":return e.stop()}},e)}))),b()(g()(n),"updateReleases",function(e){console.log(e);var t=n.state.artist;t.releases=e,n.setState({artist:t})}),b()(g()(n),"render",function(){return n.state.artist?E.a.createElement("div",{id:"property-editor"},E.a.createElement("form",{onSubmit:function(e){return n.handleSubmit(e)}},E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"name"),E.a.createElement("input",{onChange:function(e){return n.handleInputChange({e:e})},id:"name",value:n.state.artist.name||"artist name"})),E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"page name"),E.a.createElement("input",{onChange:function(e){return n.handleInputChange({e:e})},id:"page",value:n.state.artist.page||n.state.artist.name&&n.state.artist.name.toLowerCase().split(" ").join("-")||""})),E.a.createElement("br",null),E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"bio"),E.a.createElement("textarea",{rows:6,cols:60,onKeyPress:function(e){return n.handleTextareaKeyPress(e)},onChange:function(e){return n.handleInputChange({e:e})},id:"description.bio",value:n.state.artist.description&&n.state.artist.description.bio||""})),E.a.createElement("br",null),E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"description background color (default: darkgrey)"),E.a.createElement(K,{color:n.state.artist.description&&n.state.artist.description.style&&n.state.artist.description.style.backgroundColor||"darkgrey",setColor:function(e){var t=e.rgb,a=t.r,r=t.g,o=t.b,s=t.a,i="rgba(".concat(a,",").concat(r,",").concat(o,",").concat(s,")");n.handleInputChange({path:"description.style.backgroundColor",value:i,colorChange:!0})}})),E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"description text color (default: white)"),E.a.createElement(K,{color:n.state.artist.description&&n.state.artist.description.style&&n.state.artist.description.style.color||"#fff",setColor:function(e){var t=e.rgb,a=t.r,r=t.g,o=t.b,s=t.a,i="rgba(".concat(a,",").concat(r,",").concat(o,",").concat(s,")");n.handleInputChange({path:"description.style.color",value:i,colorChange:!0})}})),E.a.createElement("div",{className:"property-input"},E.a.createElement("label",null,"description text (bio)"),E.a.createElement("textarea",{rows:6,cols:60,onKeyPress:function(e){return n.handleTextareaKeyPress(e)},onChange:function(e){return n.handleInputChange({e:e})},id:"description.bio",value:n.state.artist.description&&n.state.artist.description.bio||""})),E.a.createElement("br",null),E.a.createElement(J,{data:n.state.artist.releases,updateData:function(e){return n.updateReleases(e)}}),n.state.error,E.a.createElement("button",null,"Submit changes")),E.a.createElement("div",{id:"create-new"},E.a.createElement("button",{onClick:function(){return n.newArtist()}},"Submit as new artist")),E.a.createElement("button",{onClick:function(){return confirm("Are you sure you want to delete this artist? (There's no going back!)")&&n.deleteArtist()}},"Delete artist")):E.a.createElement("div",null,"loading...")}),n}return y()(t,e),u()(t,[{key:"updateArtistValue",value:function(e,t){var n=Object.assign({},this.state.artist);!function(e,t){for(var a=n,r=e.split("."),o=r.length,s=0;s<o-1;s++){var i=r[s];a[i]||(a[i]={}),a=a[i]}a[r[o-1]]=t}(e,t),this.setState({artist:n,unsavedChanges:!0})}},{key:"validateArtist",value:function(){var e=this.state.artist,t=e.video?e.videoSrc:e.imgSrc;return t?this.setState({error:void 0}):this.setState({error:"Error: You must provide at least a background image"}),t}},{key:"deleteArtist",value:function(){var e=this;S.a.get("".concat(V.a.apiUrl,"/grids/index/artists/").concat(this.props.index,"/delete")).then(function(t){var n=t.data,a=n.layouts,r=n.artists;e.props.updateGrid({layouts:a,artists:r})})}},{key:"handleTextareaKeyPress",value:function(e){"Enter"===e.key&&(e.preventDefault(),this.handleSubmit())}}]),t}(E.a.Component),Y=n(78),q=n(76),$=n(75),Q=n(77),X=n(74),Z=n(194),_={index:H,artists:Y.default,artist:q.default,"producer-tools":$.default,"producer-tool":Q.default,about:X.default},ee=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(o))),b()(g()(n),"state",{view:"mobile",scale:1,countdown:2,selectedCell:0,selectedArtist:0,dataReady:!1}),b()(g()(n),"getGridFromDatabase",s()(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(Z.apiUrl,"/grids/index/layouts")).then(function(e){return e.data});case 2:return t=e.sent,e.next=5,S.a.get("".concat(Z.apiUrl,"/grids/index/cells")).then(function(e){return e.data});case 5:return n=e.sent,e.abrupt("return",{layouts:t,cells:n});case 7:case"end":return e.stop()}},e)}))),b()(g()(n),"getArtistsFromDatabase",s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(Z.apiUrl,"/artists")).then(function(e){return e.data});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))),b()(g()(n),"getArtistFromDatabase",function(){var e=s()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(Z.apiUrl,"/artist/index/").concat(t)).then(function(e){return e.data});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),b()(g()(n),"getProducerToolsFromDatabase",function(){var e=s()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(Z.apiUrl,"/producer-tools")).then(function(e){return e.data});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),b()(g()(n),"setScale",function(e){return n.setState({scale:e})}),b()(g()(n),"setView",function(e){return n.setState({view:e})}),b()(g()(n),"cancelCountdown",function(){return clearInterval(n.interval)}),b()(g()(n),"updateReceived",function(){return n.setState({updateSent:!1})}),b()(g()(n),"updateGrid",function(e){var t=e.layouts,a=e.cells;t&&a?n.setState({layouts:t,cells:a,updateSent:!0}):t?n.setState({layouts:t,updateSent:!0}):a&&n.setState({cells:a,updateSent:!0}),console.log(a)}),b()(g()(n),"refreshGrid",function(e){var t=e.cells;console.log("refresh grid"),n.setState({cells:{},cellsTemp:t})}),b()(g()(n),"updateArtists",function(e,t){var a=n.state.artists;a[e]=t,n.setState({artists:a})}),b()(g()(n),"refreshArtists",function(e,t){var a=n.state.artists;a[e]=t,n.setState({artists:void 0,artistsTemp:a})}),b()(g()(n),"setBodyBackground",function(){return document.getElementsByTagName("body")[0].style.backgroundColor="#222"}),b()(g()(n),"setKeyBindings",function(){document.onkeypress=function(e){"INPUT"!==e.target.tagName&&("u"===e.key?n.undoLayoutChange():"r"===e.key?n.redoLayoutChange():"m"===e.key?n.setView("mobile"):"t"===e.key?n.setView("tablet"):"d"===e.key&&n.setView("desktop"))}}),b()(g()(n),"render",function(){return n.state.authenticated?E.a.createElement("div",{id:"admin-root"},E.a.createElement(P,{setScale:function(e){return n.setScale(e)},setView:function(e){return n.setView(e)},pageName:n.props.pageName,undoLayoutChange:function(){return n.undoLayoutChange()},redoLayoutChange:function(){return n.redoLayoutChange()}}),n.state.dataReady&&E.a.createElement(W,{page:n.props.page,view:n.state.view,scale:n.state.scale,selectCell:function(e){return n.selectCell(e)},selectedCell:n.state.selectedCell,layouts:n.state.layouts,cells:n.state.cells,onLayoutChange:function(e,t){return n.onLayoutChange(e,t)},selectArtist:function(e){return n.selectArtist(e)},selectedArtist:n.state.selectedArtist,artists:n.state.artists,updateSent:n.state.updateSent,updateReceived:function(){return n.updateReceived()}}),"artists"===n.props.pageName&&E.a.createElement(z,{index:n.state.selectedArtist,updateArtists:function(e,t){return n.updateArtists(e,t)},refreshArtists:function(e,t){return n.refreshArtists(e,t)}}),"index"===n.props.pageName&&E.a.createElement(O,{videoMode:n.state.selectedCell.video,updateGrid:function(e){var t=e.layouts,a=e.cells;return n.updateGrid({layouts:t,cells:a})},index:n.state.selectedCell,refreshGrid:function(e){var t=e.cells;return n.refreshGrid({cells:t})}})):(n.authenticate(),E.a.createElement("div",null,"not authenticated",E.a.createElement("button",{onClick:function(){return n.signIn()}},"Sign in"),E.a.createElement("div",null,"Signing in automatically in ",n.state.countdown,"...")))}),n}return y()(t,e),u()(t,[{key:"signIn",value:function(){this.cancelCountdown(),this.lock.show()}},{key:"startCountdown",value:function(){var e=this;this.interval||(this.interval=setInterval(function(){e.setState({countdown:e.state.countdown-1}),0===e.state.countdown&&e.signIn()},1e3))}},{key:"setTokenIfProvided",value:function(){var e=this;this.lock.on("authenticated",function(t){t.accessToken;e.setState({authenticated:!0}),e.cancelCountdown()})}},{key:"authenticate",value:function(){this.lock=new T.a("kWHysVBkljt5AhDWF62CKNK46HQSCkkw","dvsn88.auth0.com",{allowSignUp:!1}),this.setTokenIfProvided(),this.startCountdown()}},{key:"addSpaceToTopOfBody",value:function(){document.getElementsByTagName("body")[0].style.marginTop="6rem"}},{key:"selectCell",value:function(e){this.setState({selectedCell:e})}},{key:"selectArtist",value:function(e){this.setState({selectedArtist:e})}},{key:"updateCell",value:function(e,t){console.log("update cell"),this.setState({updatedCell:{index:e,cell:t}})}},{key:"undoLayoutChange",value:function(){var e=this.layoutsHistory[this.layoutsHistory.length-2];e&&(this.layoutsUndone.push(this.layoutsHistory[this.layoutsHistory.length-1]),this.layoutsHistory=this.layoutsHistory.slice(0,this.layoutsHistory.length-2),this.setState({layouts:e}))}},{key:"redoLayoutChange",value:function(){var e=this.layoutsUndone[this.layoutsUndone.length-1];e&&(this.layoutsUndone=this.layoutsUndone.slice(0,this.layoutsUndone.length-1),this.setState({layouts:e}))}},{key:"onLayoutChange",value:function(e,t){JSON.stringify(e)!==JSON.stringify(this.lastLayoutChange)&&(this.setState({layouts:t}),this.lastLayoutChange=e,this.layoutsHistory||(this.layoutsHistory=[e]),this.layoutsHistory.push(t),S.a.post("".concat(Z.apiUrl,"/grids/index"),{layouts:t}))}},{key:"selectArtist",value:function(e){this.setState({selectedArtist:e})}},{key:"getDataForPage",value:function(){var e=this;"artists"===this.props.pageName?(console.log("getting data for artists..."),this.getArtistsFromDatabase().then(function(t){e.setState({artists:t,dataReady:!0})})):"artist"===this.props.pageName?(console.log("getting data for artist..."),this.getArtistsFromDatabase().then(function(t){e.setState({artists:t,dataReady:!0})})):"producer-tools"===this.props.pageName?(console.log("getting data for producer-tools..."),this.getProducerToolsFromDatabase().then(function(t){e.setState({tools:t,dataReady:!0})})):"index"===this.props.pageName&&(console.log("getting data for index..."),this.getGridFromDatabase().then(function(t){var n=t.cells,a=t.layouts;e.setState({cells:n,layouts:a,dataReady:!0}),e.layoutsHistory=[a],e.layoutsUndone=[]}))}},{key:"componentWillMount",value:function(){this.getDataForPage()}},{key:"componentDidUpdate",value:function(e){this.props.pageName!==e.pageName?this.getDataForPage():this.state.cellsTemp?this.setState({cells:this.state.cellsTemp,cellsTemp:void 0}):this.state.artistsTemp&&this.setState({artists:this.state.artistsTemp,artistsTemp:void 0})}},{key:"componentDidMount",value:function(){this.addSpaceToTopOfBody(),this.setKeyBindings(),this.setBodyBackground()}}]),t}(E.a.Component);t.default=function(){var e=Object(C.useRouteData)(),t=e.page,n=e.index;return console.log(t,n),E.a.createElement(ee,{page:_[t],pageName:t,index:n})}}}]);