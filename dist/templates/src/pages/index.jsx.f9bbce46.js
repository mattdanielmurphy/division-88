(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{192:function(e,t,n){"use strict";n.d(t,"a",function(){return H});var a=n(1),i=n.n(a),r=n(16),o=n.n(r),s=n(10),l=n.n(s),c=n(11),p=n.n(c),u=n(12),d=n.n(u),h=n(4),g=n.n(h),m=n(13),f=n.n(m),v=n(3),y=n.n(v),w=n(0),k=n.n(w),b=n(207),E=(n(208),n(218)),x=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=p()(this,(e=d()(t)).call.apply(e,[this].concat(i))),y()(g()(n),"render",function(){return k.a.createElement("div",{className:"top-heading"},k.a.createElement(b.Textfit,{mode:"single",max:50},n.props.children))}),n}return f()(t,e),t}(k.a.Component),S=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=p()(this,(e=d()(t)).call.apply(e,[this].concat(i))),y()(g()(n),"render",function(){return k.a.createElement("div",{className:"top-heading background-image",style:{backgroundImage:"url(".concat(n.props.image,")")}},k.a.createElement(b.Textfit,{mode:"single",max:50},n.props.children))}),n}return f()(t,e),t}(k.a.Component),C=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=p()(this,(e=d()(t)).call.apply(e,[this].concat(i))),y()(g()(n),"render",function(){return!n.props.noTopHeading&&(n.props.backgroundImage?k.a.createElement(S,{image:n.props.backgroundImage},n.props.state.heading.text,k.a.createElement("span",null,n.props.state.heading.spanText)):k.a.createElement(x,null,n.props.state.heading.text,k.a.createElement("span",null,n.props.state.heading.spanText)))}),n}return f()(t,e),t}(k.a.Component),H=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=p()(this,(e=d()(t)).call.apply(e,[this].concat(i))),y()(g()(n),"getPathname",function(){return window.location.pathname.replace(/\/(admin)*/g,"")}),y()(g()(n),"getPageName",function(){return n.getPathname().split("-").join(" ")}),y()(g()(n),"state",{id:n.props.id,heading:"",pageName:""}),y()(g()(n),"render",function(){return k.a.createElement(E.SizeMe,null,function(e){var t=e.size;return n.state.id?k.a.createElement("div",{id:n.state.id,className:n.getMainContainerClassName(t)},k.a.createElement(C,{state:n.state}),k.a.createElement("main",null,n.props.children)):k.a.createElement("div",null)})}),n}return f()(t,e),o()(t,[{key:"getHeading",value:function(){return this.props.heading?"object"===i()(this.props.heading)?this.props.heading:{text:this.props.heading}:{text:this.getPageName()}}},{key:"getMainContainerClassName",value:function(e){var t=e.width;return"main-container ".concat(t<768?"mobile":t<1366?"tablet":"desktop")}},{key:"getParentElementsBeforeBody",value:function(e){var t=[];return function e(n){"BODY"!==(n=n.parentElement).tagName&&(t.push(n),e(n))}(e),t}},{key:"setParentElementsTo100PercentHeight",value:function(){this.getParentElementsBeforeBody(document.querySelector("#content")).forEach(function(e){return e.style.height="100%"})}},{key:"componentDidMount",value:function(){this.setParentElementsTo100PercentHeight(),this.setState({id:this.getPathname(),pageName:this.getPageName(),heading:this.getHeading()})}}]),t}(k.a.Component)},194:function(e,t){e.exports={apiUrl:"https://division-88-6430e.web.app/api"}},305:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var a=n(40),i=n.n(a),r=n(41),o=n.n(r),s=n(10),l=n.n(s),c=n(16),p=n.n(c),u=n(11),d=n.n(u),h=n(12),g=n.n(h),m=n(4),f=n.n(m),v=n(13),y=n.n(v),w=n(3),k=n.n(w),b=n(0),E=n.n(b),x=n(355),S=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=d()(this,(e=g()(t)).call.apply(e,[this].concat(r))),k()(f()(n),"state",{layoutClassName:"layout ".concat(void 0!==n.gridItemHoveredUpon?"grid-item-hovered-upon":""),cellsUpToDate:!0}),k()(f()(n),"componentDidMount",o()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.watchWindowResizing(),console.log("cells",n.props.cells),n.setState({rowHeight:n.rowHeight,cells:n.props.cells}),console.log(n.props.gridWidth);case 4:case"end":return e.stop()}},e)}))),n}return y()(t,e),p()(t,[{key:"watchWindowResizing",value:function(){var e=this;window.onresize=function(){e.setState({rowHeight:e.rowHeight}),e.buffering||setTimeout(function(){e.buffering=!1},10)}}},{key:"updateGridItemHover",value:function(e){this.setState({gridItemHoveredUpon:e,layoutClassName:"layout ".concat(void 0!==e?"grid-item-hovered-upon":"")})}},{key:"handleMouseOverGridItem",value:function(e){this.updateGridItemHover(e)}},{key:"handleMouseLeaveGridItem",value:function(e){this.state.gridItemHoveredUpon===e&&this.updateGridItemHover()}},{key:"handleClickGridItem",value:function(e,t){this.props.selectCell(e)}},{key:"componentDidUpdate",value:function(e,t){e.gridWidth!==this.props.gridWidth&&this.setState({rowHeight:this.rowHeight}),this.props.updateSent?(console.log("updateSent"),this.setState({cellsUpToDate:!1,cells:this.props.cells}),this.props.updateReceived()):JSON.stringify(this.props.cells)!==JSON.stringify(e.cells)?(console.log("update"),this.setState({cellsUpToDate:!1,cells:this.props.cells})):this.state.cellsUpToDate||this.setState({cellsUpToDate:!0})}},{key:"render",value:function(){var e=this,t=this.props.ResponsiveGridLayout;return this.props.updateSent&&console.log("update sent"),E.a.createElement("div",{id:"index"},this.state.cellsUpToDate?this.props.layouts&&this.state.cells&&E.a.createElement(t,{measureBeforeMount:!0,className:this.state.layoutClassName,layouts:this.props.layouts,rowHeight:this.state.rowHeight,width:this.props.gridWidth,nb:!0,isDraggable:!!this.props.gridWidth,isResizable:!!this.props.gridWidth,breakpoints:{desktop:1326,tablet:750,mobile:0},cols:{desktop:12,tablet:12,mobile:12},rows:{desktop:12,tablet:12,mobile:12},containerPadding:[0,0],onLayoutChange:function(t,n){return e.props.onLayoutChange?e.props.onLayoutChange(t,n):{}}},this.state.cells.map(function(t,n){return E.a.createElement("div",{className:"grid-item",onClick:function(t){return e.handleClickGridItem(n,t)},key:n},E.a.createElement(x.a,{selected:e.props.selectedCell===n,index:n,link:t.link,imgSrc:t.imgSrc,backgroundText:t.backgroundText,bottomText:t.bottomText,videoSrc:t.videoSrc,video:t.video,isPreview:e.props.gridWidth}))})):E.a.createElement("div",null,"Loading..."))}},{key:"rowHeight",get:function(){var e=this.props.gridWidth?this.props.gridWidth/100:window.innerWidth/100;return"mobile"===this.props.view?10*e:"tablet"===this.props.view?8*e:4*e}}]),t}(E.a.Component)},84:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return D});var a=n(40),i=n.n(a),r=n(41),o=n.n(r),s=n(10),l=n.n(s),c=n(16),p=n.n(c),u=n(11),d=n.n(u),h=n(12),g=n.n(h),m=n(4),f=n.n(m),v=n(13),y=n.n(v),w=n(3),k=n.n(w),b=n(42),E=n.n(b),x=n(0),S=n.n(x),C=n(208),H=n(305),N=n(192),T=n(194),D=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=d()(this,(e=g()(t)).call.apply(e,[this].concat(r))),k()(f()(n),"state",{}),k()(f()(n),"getGridFromDatabase",o()(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(T.apiUrl,"/grids/index/layouts")).then(function(e){return e.data});case 2:return t=e.sent,e.next=5,E.a.get("".concat(T.apiUrl,"/grids/index/cells")).then(function(e){return e.data});case 5:return n=e.sent,e.abrupt("return",{layouts:t,cells:n});case 7:case"end":return e.stop()}},e)}))),k()(f()(n),"render",function(){return n.state.cells?S.a.createElement(N.a,{noTopHeading:!0},S.a.createElement(H.a,{layouts:n.state.layouts,cells:n.state.cells,ResponsiveGridLayout:Object(C.WidthProvider)(C.Responsive)})):S.a.createElement("div",null,"Loading...")}),n}return y()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),this.getGridFromDatabase().then(function(t){var n=t.cells,a=t.layouts;e.setState({cells:n,layouts:a,layoutsLoaded:!0})})}},{key:"componentDidUpdate",value:function(e){console.log(this.props),console.log(JSON.stringify(this.props)!==JSON.stringify(e))}}]),t}(S.a.Component)}}]);