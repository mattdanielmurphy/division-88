(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{78:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"default",function(){return C});var a=n(42),i=n.n(a),o=n(43),r=n.n(o),s=n(5),u=n.n(s),c=n(14),d=n.n(c),l=n(6),g=n.n(l),h=n(7),m=n.n(h),y=n(2),f=n.n(y),p=n(8),b=n.n(p),w=n(3),k=n.n(w),v=n(69),S=n(0),x=n.n(S),E=n(185),H=n(65),M=(n(66),n(44)),T=n.n(M);v.warn("ultra-compatible");var L=Object(E.WidthProvider)(E.Responsive),W={lg:[{w:12,h:5,x:0,y:0,i:"0",moved:!1,static:!1,minW:1,minH:3},{w:12,h:5,x:0,y:0,i:"1",moved:!1,static:!1,minW:1,minH:3},{w:5,h:5,x:0,y:10,i:"2",moved:!1,static:!1,minW:1,minH:3},{w:5,h:5,x:5,y:10,i:"3",moved:!1,static:!1,minW:1,minH:3}]},z=function(e){var n={};if(t.localStorage)try{n=JSON.parse(t.localStorage.getItem("rgl-8"))||{}}catch(a){}return n[e]}("layouts")||W,C=function(t){function e(){var t,n;u()(this,e);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=g()(this,(t=m()(e)).call.apply(t,[this].concat(o))),k()(f()(n),"state",{layouts:JSON.parse(JSON.stringify(z)),editingModeEnabled:!1,cells:[{link:"",bottomText:{text:"Hi",height:"50px"},imgSrc:"/images/neon-bambi.jpg"},{link:"/artists",backgroundText:{heading:"Heading"},imgSrc:"https://picsum.photos/1500/1500"},{link:"/artists",backgroundText:{heading:"Heading",subheading:"Subheading"},imgSrc:"https://picsum.photos/1500/1600"},{imgSrc:"/images/skoop.jpg",videoSrc:"https://www.youtube.com/watch?v=aUdfLZJkqFs"}],rowHeight:n.rowHeight}),k()(f()(n),"getLayoutsFromDatabase",r()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("http://localhost/api/layouts/index").then(function(t){return t.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))),k()(f()(n),"toggleEditingMode",function(){n.setState({editingModeEnabled:!n.state.editingModeEnabled}),console.log(n.state.editingModeEnabled)}),k()(f()(n),"getButtonStyle",function(){return n.state.editingModeEnabled?{backgroundColor:"red"}:{}}),k()(f()(n),"handleLinkClick",function(t){return n.state.editingModeEnabled?t.preventDefault():null}),k()(f()(n),"handleResize",function(){n.setState({rowHeight:n.rowHeight}),n.buffering||setTimeout(function(){n.buffering=!1},10)}),k()(f()(n),"setKeyBindings",function(){document.onkeypress=function(t){"e"===t.key?n.toggleEditingMode():"f"===t.key&&n.resetLayout()}}),k()(f()(n),"componentDidMount",r()(i.a.mark(function t(){var e,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getLayoutsFromDatabase();case 2:e=t.sent,a=e.layouts,n.setState({layouts:a,layoutsLoaded:!0}),n.setKeyBindings(),n.watchWindowResizing();case 7:case"end":return t.stop()}},t)}))),n}return b()(e,t),d()(e,[{key:"resetLayout",value:function(){this.setState({layouts:W})}},{key:"onLayoutChange",value:function(t,e){T.a.post("http://localhost/api/layouts/index",{layouts:e}).then(function(t){return console.log(t)}),this.setState({layouts:e})}},{key:"watchWindowResizing",value:function(){var t=this;window.onresize=function(){return t.handleResize()}}},{key:"render",value:function(){var t=this;return x.a.createElement("div",{id:"index"},this.state.layoutsLoaded&&x.a.createElement(L,{measureBeforeMount:!0,className:"layout",layouts:this.state.layouts,rowHeight:this.state.rowHeight,nb:!0,width:1200,isDraggable:this.state.editingModeEnabled,isResizable:this.state.editingModeEnabled,breakpoints:{lg:1200},cols:{lg:12},containerPadding:[0,0],onLayoutChange:function(e,n){return t.onLayoutChange(e,n)}},this.state.cells.map(function(e,n){return e.link&&!t.state.editingModeEnabled?x.a.createElement("a",{href:"",className:"grid-item",key:n},x.a.createElement(H.a,{imgSrc:e.imgSrc,videoSrc:e.videoSrc,backgroundText:e.backgroundText,bottomText:e.bottomText})):x.a.createElement("div",{className:"grid-item",key:n},x.a.createElement(H.a,{imgSrc:e.imgSrc,videoSrc:e.videoSrc,backgroundText:e.backgroundText,bottomText:e.bottomText}))})))}},{key:"rowHeight",get:function(){return 5*(window.innerWidth/100)}}]),e}(x.a.PureComponent)}.call(this,n(33))}}]);