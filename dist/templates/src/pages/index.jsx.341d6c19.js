(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{191:function(t,e){t.exports={apiUrl:"https://division-88-6430e.web.app/api"}},77:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return R});var i=n(44),a=n.n(i),o=n(45),s=n.n(o),r=n(4),u=n.n(r),l=n(15),d=n.n(l),c=n(5),g=n.n(c),y=n(6),h=n.n(y),m=n(2),f=n.n(m),b=n(7),p=n.n(b),w=n(3),k=n.n(w),v=n(46),H=n.n(v),x=n(0),S=n.n(x),L=n(184),E=n(68),C=Object(L.WidthProvider)(L.Responsive),M=n(191),U={lg:[{w:11,h:5,x:0,y:0,i:"0",moved:!1,static:!1,minW:1,minH:3},{w:11,h:5,x:0,y:0,i:"1",moved:!1,static:!1,minW:1,minH:3},{w:5,h:5,x:0,y:10,i:"2",moved:!1,static:!1,minW:1,minH:3},{w:5,h:5,x:5,y:10,i:"3",moved:!1,static:!1,minW:1,minH:3}]},R=function(t){function e(){var t,n;u()(this,e);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=g()(this,(t=h()(e)).call.apply(t,[this].concat(o))),k()(f()(n),"state",{editingModeEnabled:!1,cells:[{link:"",bottomText:{text:"Neon Bambi -- New Release",height:"50px",backgroundColor:"rgb(239,0,160)"},imgSrc:"/images/neon-bambi.jpg"},{link:"/artist/billy-wild",backgroundText:{heading:"Heading"},imgSrc:"/images/billy.jpg"},{link:"/artists",backgroundText:{heading:"Heading",subheading:"Subheading"},imgSrc:"/images/trees.jpg"},{imgSrc:"/images/skoop.jpg",videoSrc:"http://www.youtube.com/watch?v=aUdfLZJkqFs"}]}),k()(f()(n),"getLayoutsFromDatabase",s()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.a.get("".concat(M.apiUrl,"/layouts/index")).then(function(t){return t.data});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))),k()(f()(n),"toggleEditingMode",function(){n.setState({editingModeEnabled:!n.state.editingModeEnabled})}),k()(f()(n),"getButtonStyle",function(){return n.state.editingModeEnabled?{backgroundColor:"red"}:{}}),k()(f()(n),"handleLinkClick",function(t){return n.state.editingModeEnabled?t.preventDefault():null}),k()(f()(n),"handleResize",function(){n.setState({rowHeight:n.rowHeight}),n.buffering||setTimeout(function(){n.buffering=!1},10)}),k()(f()(n),"setKeyBindings",function(){document.onkeypress=function(t){"e"===t.key?n.toggleEditingMode():"d"===t.key?n.restoreDefaultLayouts():"u"===t.key?n.undoLayoutChange():"r"===t.key&&n.redoLayoutChange()}}),k()(f()(n),"componentDidMount",s()(a.a.mark(function t(){var e,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getLayoutsFromDatabase();case 2:e=t.sent,i=e.layouts,n.setState({layouts:i,layoutsLoaded:!0}),n.layoutsHistory=[i],n.layoutsUndone=[],n.setKeyBindings(),n.watchWindowResizing(),n.setState({rowHeight:n.rowHeight});case 10:case"end":return t.stop()}},t)}))),n}return p()(e,t),d()(e,[{key:"restoreDefaultLayouts",value:function(){console.log("Restoring default layout..."),this.setState({layouts:U})}},{key:"undoLayoutChange",value:function(){var t=this.layoutsHistory[this.layoutsHistory.length-2];t&&(this.layoutsUndone.push(this.layoutsHistory[this.layoutsHistory.length-1]),this.layoutsHistory=this.layoutsHistory.slice(0,this.layoutsHistory.length-2),this.setState({layouts:t}))}},{key:"redoLayoutChange",value:function(){var t=this.layoutsUndone[this.layoutsUndone.length-1];t&&(this.layoutsUndone=this.layoutsUndone.slice(0,this.layoutsUndone.length-1),this.setState({layouts:t}))}},{key:"onLayoutChange",value:function(t,e){this.setState({layouts:e}),this.layoutsHistory&&JSON.stringify(t)!==JSON.stringify(this.lastLayoutChange)&&(this.lastLayoutChange=t,this.layoutsHistory.push(e),H.a.post("".concat(M.apiUrl,"/layouts/index"),{layouts:e}))}},{key:"watchWindowResizing",value:function(){var t=this;window.onresize=function(){return t.handleResize()}}},{key:"render",value:function(){var t=this;return S.a.createElement("div",{id:"index"},this.state.layoutsLoaded&&S.a.createElement(C,{measureBeforeMount:!0,className:"layout",layouts:this.state.layouts,rowHeight:this.state.rowHeight,nb:!0,width:1200,isDraggable:this.state.editingModeEnabled,isResizable:this.state.editingModeEnabled,breakpoints:{lg:1200},cols:{lg:12},containerPadding:[0,0],onLayoutChange:function(e,n){return t.onLayoutChange(e,n)}},this.state.cells.map(function(e,n){return S.a.createElement("div",{className:"grid-item",key:n},S.a.createElement(E.a,{link:e.link,imgSrc:e.imgSrc,backgroundText:e.backgroundText,bottomText:e.bottomText,videoSrc:e.videoSrc,editingModeEnabled:t.state.editingModeEnabled}))})))}},{key:"rowHeight",get:function(){return 5*(window.innerWidth/100)}}]),e}(S.a.PureComponent)}}]);